<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <h1> Account information page </h1>
    <h2> Please choose from the following options. </h2>
  </head>
  <body>
    <p id="change"></p>
    <p id="demo"></p>
    <button type="submit" name="button" onclick=" getAllAccounts('http://localhost:8082/accountapp/api/account/getAllAccounts')"> Get all accounts </button>
    <a href="delete.html"><button type = "submit"> Remove an account </button></a>
    <a href="add.html"><button type = "submit"> Add an account </button></a>


    <table style="width:50%">
      <tr>
        <th>ID number</th>
        <th>Firstname</th>
        <th>Lastname</th>
        <th>Account number</th>
      </tr>
      <tr>
        <td id="id1"></td>
        <td id="fname1"></td>
        <td id="lname1"></td>
        <td id="ano1"></td>
      </tr>
      <tr>
        <td id="id2"></td>
        <td id="fname2"></td>
        <td id="lname2"></td>
        <td id="ano2"></td>
      </tr>
      <tr>
        <td id="id3"></td>
        <td id="fname3"></td>
        <td id="lname3"></td>
        <td id="ano3"></td>
      </tr>
      <tr>
        <td id="id4"></td>
        <td id="fname4"></td>
        <td id="lname4"></td>
        <td id="ano4"></td>
      </tr>
    </table>




    <script>
    var array = eval(getAll('http://localhost:8082/accountapp/api/account/getAllAccounts'));
      function getAll(url) {
        var request = new XMLHttpRequest();
        request.open("GET", url , false);
        request.send();
        return request.response;
      }
      document.getElementById("id1").innerHTML =  array[0].id;
      document.getElementById("fname1").innerHTML =  array[0].firstName;
      document.getElementById("lname1").innerHTML =  array[0].lastName;
      document.getElementById("ano1").innerHTML =  array[0].accountNumber;

      document.getElementById("id2").innerHTML =  array[1].id;
      document.getElementById("fname2").innerHTML =  array[1].firstName;
      document.getElementById("lname2").innerHTML =  array[1].lastName;
      document.getElementById("ano2").innerHTML =  array[1].accountNumber;

      document.getElementById("id3").innerHTML =  array[2].id;
      document.getElementById("fname3").innerHTML =  array[2].firstName;
      document.getElementById("lname3").innerHTML =  array[2].lastName;
      document.getElementById("ano3").innerHTML =  array[2].accountNumber;

      // document.getElementById("id1").innerHTML =  array[0].id;
      // document.getElementById("fname1").innerHTML =  array[0].firstName;
      // document.getElementById("lname1").innerHTML =  array[0].lastName;
      // document.getElementById("ano1").innerHTML =  array[0].accountNumber;
    </script>
  </body>
</html>
