<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <h1> Account information page </h1>
    <h2> Please choose from the following options. </h2>
  </head>
  <body>
    <p id="change"></p>
    <p id="demo"></p>
    <!-- <button type="submit" name="button" onclick=" getAllAccounts('http://localhost:8082/accountapp/api/account/getAllAccounts')"> Get all accounts </button> -->
    <a href="delete.html"><button type = "submit"> Remove an account </button></a>
    <a href="add.html"><button type = "submit"> Add an account </button></a>


    <table style="width:50%" id="accountTable">
    </table>




    <script>

      var array = eval(getAllAccounts('http://localhost:8081/accountapp/api/account/getAllAccounts'));
      var i;
      var string = '';
      for(i = 0; i < array.length; i++){
        var row = array[i];
        string += "<tr><td>" + row.id + "</td><td>" + row.firstName + "</td><td>" + row.secondName + "</td><td>" + row.accountNumber + "</td></tr>";

        // var table = document.getElementById("accountTable");
        // table.innerHTML += '<tr><td id="idno" + array[i].id></td><td id="fname" + array[i].id></td><td id="lname" + array[i].id></td><td id="ano" + array[i].id></td></tr>';
        // var idno = document.getElementById("idno" + array[i].id);
        // var fname = document.getElementById("fname" + array[i].id);
        // var lname = document.getElementById("lname" + array[i].id);
        // var ano = document.getElementById("ano" + array[i].id);
        // idno.innerHTML = array[i].id;
        // fname.innerHTML = array[i].firstName;
        // lname.innerHTML = array[i].secondName;
        // ano.innerHTML = array[i].accountNumber;
      }
      document.getElementById('table').innerHTML = '<tr><th>ID number</th><th>Firstname</th><th>Lastname</th><th>Account number</th></tr>' + string;


      function getAllAccounts(url) {
        var request = new XMLHttpRequest();
        request.open("GET", url , false);
        request.send();
        return request.response;
      }




/*      document.getElementById("id1").innerHTML =  array[0].id;
      document.getElementById("fname1").innerHTML =  array[0].firstName;
      document.getElementById("lname1").innerHTML =  array[0].secondName;
      document.getElementById("ano1").innerHTML =  array[0].accountNumber;

      document.getElementById("id2").innerHTML =  array[1].id;
      document.getElementById("fname2").innerHTML =  array[1].firstName;
      document.getElementById("lname2").innerHTML =  array[1].secondName;
      document.getElementById("ano2").innerHTML =  array[1].accountNumber;

      document.getElementById("id3").innerHTML =  array[2].id;
      document.getElementById("fname3").innerHTML =  array[2].firstName;
      document.getElementById("lname3").innerHTML =  array[2].secondName;
      document.getElementById("ano3").innerHTML =  array[2].accountNumber;*/

      // document.getElementById("id1").innerHTML =  array[0].id;
      // document.getElementById("fname1").innerHTML =  array[0].firstName;
      // document.getElementById("lname1").innerHTML =  array[0].lastName;
      // document.getElementById("ano1").innerHTML =  array[0].accountNumber;
    </script>
  </body>
</html>
